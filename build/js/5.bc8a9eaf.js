(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{136:function(n,e,t){"use strict";var a=t(2),r=t.n(a),i=t(0),o=t.n(i),c=t(3),l=t(5),s=t(1);function u(){var n=r()(["\n  .icon_wrapper{\n    position: fixed;\n    z-index: 1000;\n    margin-top: -10px;\n    margin-left: -10px;\n    color: ",";\n    font-size: 14px;\n    display: none;\n    transition: transform 1s cubic-bezier(.62,-0.1,.86,.57);\n    transform: translate3d(0, 0, 0);\n    >div{\n      transition: transform 1s;\n    }\n  }\n"]);return u=function(){return n},n}var f=c.b.div(u(),s.a["theme-color"]),p=Object(i.forwardRef)((function(n,e){var t=Object(i.useRef)(),a=Object(l.h)("transform");Object(i.useEffect)((function(){for(var n=0;n<10;n++){var e=(r=void 0,i=void 0,r="<div class='icon_wrapper'>".concat('<div class="iconfont">&#xe642;</div>',"</div>"),(i=document.createElement("div")).innerHTML=r,i.firstChild);t.current.appendChild(e)}var r,i;[].slice.call(t.current.children).forEach((function(n){n.running=!1,n.addEventListener("transitionend",(function(){this.style.display="none",this.style[a]="translate3d(0, 0, 0)",this.running=!1,this.querySelector("div").style[a]="translate3d(0, 0, 0)"}),!1)}))}),[]);var r=function(n){for(var e=n.x,r=n.y,i=function(n){var i=[].slice.call(t.current.children)[n];if(!1===i.running)return i.style.left=e+"px",i.style.top=r+"px",i.style.display="inline-block",setTimeout((function(){i.running=!0,i.style[a]="translate3d(0, 750px, 0)",i.querySelector("div").style[a]="translate3d(-40px, 0, 0)"}),20),"break"},o=0;o<10;o++){if("break"===i(o))break}};return Object(i.useImperativeHandle)(e,(function(){return{startAnimation:r}})),o.a.createElement(f,{ref:t})}));e.a=o.a.memo(p)},138:function(n,e,t){"use strict";var a=t(2),r=t.n(a),i=t(0),o=t.n(i),c=t(3),l=t(1),s=t(13),u=t.n(s);function f(){var n=r()(["\n  position: fixed;\n  padding: 5px 10px;\n  padding-top: 0;\n  height: 40px;\n  width: 100%;\n  z-index: 100;\n  display: flex;\n  line-height: 40px;\n  color: ",";\n  .back {\n    margin-right: 5px;\n    font-size: 20px;\n    width: 20px;\n  }\n  >h1 {\n    font-size: ",";\n    font-weight: 700;\n  }\n"]);return f=function(){return n},n}var p=c.b.div(f(),l.a["font-color-light"],l.a["font-size-l"]),d=o.a.forwardRef((function(n,e){var t=n.handleClick,a=n.title;return o.a.createElement(p,{ref:e},o.a.createElement("i",{className:"iconfont back",onClick:t},""),o.a.createElement("h1",null,a))}));d.defaultProps={handleClick:function(){},title:"标题"},d.propTypes={handleClick:u.a.func,title:u.a.string},e.a=o.a.memo(d)},139:function(n,e,t){"use strict";var a=t(11),r=t.n(a),i=t(0),o=t.n(i),c=t(2),l=t.n(c),s=t(3),u=t(1);function f(){var n=l()(["\n  >li {\n    display: flex;\n    height: 60px;\n    align-items: center;  \n    .index {\n      flex-basis: 60px;\n      width: 60px;\n      height: 60px;\n      line-height: 60px;\n      text-align: center;\n    }\n    .info {\n      box-sizing: border-box;\n      flex: 1;\n      display: flex;\n      height: 100%;\n      padding: 5px 0;\n      flex-direction: column;\n      justify-content: space-around;\n      border-bottom: 1px solid ",";\n      ","\n      >span {\n        ","\n      }\n      >span:first-child {\n        color: ",";\n      }\n      >span:last-child {\n        font-size: ",";\n        color: #bba8a8;\n      }\n    }\n  }\n"]);return f=function(){return n},n}function p(){var n=l()(["\n  border-radius: 10px;\n  opacity: 0.98;\n  // 注意在这里背景改为自配置参数控制\n  ","\n  .first_line {\n    box-sizing: border-box;\n    padding: 10px 0;\n    margin-left: 10px;\n    position: relative;\n    justify-content: space-between;\n    border-bottom: 1px solid ",";\n    .play_all {\n      display: inline-block;\n      line-height: 24px;\n      color: ",";\n      .iconfont {\n        font-size: 24px;\n        margin-right: 10px;\n        vertical-align: top;\n      }\n      .sum {\n        font-size: ",";\n        color: ",";\n      }\n      >span {\n        vertical-align: top;\n      }\n    }\n    .add_list,.isCollected {\n      display: flex;\n      align-items: center;\n      position: absolute;\n      right: 0; top :0; bottom: 0;\n      width: 130px;\n      line-height: 34px;\n      background: ",";\n      color: ",";\n      font-size: 0;\n      border-radius: 3px;\n      vertical-align: top;\n      .iconfont {\n        vertical-align: top;\n        font-size: 10px;\n        margin: 0 5px 0 10px;\n      }\n      span {\n        font-size: 14px;\n        line-height: 34px;\n      }\n    }\n    .isCollected {\n      display: flex;\n      background: ",";\n      color: ",";\n    }\n}\n"]);return p=function(){return n},n}var d=s.b.div(p(),(function(n){return n.showBackground?"background: ".concat(u.a["highlight-background-color"]):""}),u.a["border-color"],u.a["font-color-desc"],u.a["font-size-s"],u.a["font-color-desc-v2"],u.a["theme-color"],u.a["font-color-light"],u.a["background-color"],u.a["font-color-desc"]),g=s.b.ul(f(),u.a["border-color"],u.a.noWrap(),u.a.noWrap(),u.a["font-color-desc"],u.a["font-size-s"]),b=t(5),h=t(7),m=t(27),x=t(136),v=t(9),y=o.a.forwardRef((function(n,e){var t=Object(i.useState)(0),a=r()(t,2),c=a[0],l=a[1],s=n.songs,u=n.collectCount,f=n.showCollect,p=n.loading,m=void 0!==p&&p,v=n.usePageSplit,y=n.changePlayListDispatch,E=n.changeCurrentIndexDispatch,k=n.changeSequecePlayListDispatch,O=s.length,z=Object(i.useRef)();Object(i.useEffect)((function(){m&&(c+1+h.ONE_PAGE_COUNT>=O||l(c+h.ONE_PAGE_COUNT))}),[m,c,O]);var j,w=function(n,e){y(s),k(s),E(e);var t=n.nativeEvent.clientX,a=n.nativeEvent.clientY;z.current.startAnimation({x:t,y:a})};return o.a.createElement(d,{ref:e,showBackground:n.showBackground},o.a.createElement("div",{className:"first_line"},o.a.createElement("div",{className:"play_all",onClick:function(n){return w(n,0)}},o.a.createElement("i",{className:"iconfont"},""),o.a.createElement("span",null,"播放全部 ",o.a.createElement("span",{className:"sum"},"(共",O,"首)"))),f?(j=u,o.a.createElement("div",{className:"add_list"},o.a.createElement("i",{className:"iconfont"},""),o.a.createElement("span",null,"收藏(",Math.floor(j/1e3)/10,"万)"))):null),o.a.createElement(g,null,function(n){for(var e=[],t=v?c+h.ONE_PAGE_COUNT:n.length,a=function(t){if(t>=n.length)return"break";var a=n[t];e.push(o.a.createElement("li",{key:a.id,onClick:function(n){return w(n,t)}},o.a.createElement("span",{className:"index"},t+1),o.a.createElement("div",{className:"info"},o.a.createElement("span",null,a.name),o.a.createElement("span",null,a.ar?Object(b.e)(a.ar):Object(b.e)(a.artists)," - ",a.al?a.al.name:a.album.name))))},r=0;r<t;r++){if("break"===a(r))break}return e}(s)),o.a.createElement(x.a,{ref:z}))}));e.a=Object(m.b)((function(n){return{fullScreen:n.getIn(["player","fullScreen"]),playing:n.getIn(["player","playing"]),currentSong:n.getIn(["player","currentSong"]),scrollY:n.getIn(["album","scrollY"])}}),(function(n){return{changePlayListDispatch:function(e){n(Object(v.d)(e))},changeCurrentIndexDispatch:function(e){n(Object(v.a)(e))},changeSequecePlayListDispatch:function(e){n(Object(v.g)(e))}}}))(o.a.memo(y))},154:function(n,e,t){"use strict";t.r(e);var a=t(11),r=t.n(a),i=t(0),o=t.n(i),c=t(130),l=t(2),s=t.n(l),u=t(3),f=t(1);function p(){var n=s()(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  background: white;\n  border-radius: 10px;\n  z-index: 50;\n"]);return p=function(){return n},n}function d(){var n=s()(["\n  position: absolute;\n  z-index: 50;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  >div{\n    position: absolute;\n    left: 0;\n    width: 100%;\n    overflow: visible;\n  }\n"]);return d=function(){return n},n}function g(){var n=s()(["\n  position: absolute;\n  left: 0; right: 0;\n  margin: auto;\n  box-sizing: border-box;\n  width: 120px;\n  height: 40px;\n  margin-top: -55px;\n  z-index:50;\n  background: ",";\n  color: ",";\n  border-radius: 20px;\n  text-align: center;\n  font-size: 0;\n  line-height: 40px;\n  .iconfont{\n    display: inline-block;\n    margin-right: 10px;\n    font-size: 12px;\n    vertical-align: 1px;\n  }\n  .text {\n    display: inline-block;\n    font-size:14px;\n    letter-spacing: 5px;\n  }\n"]);return g=function(){return n},n}function b(){var n=s()(["\n  position: relative;\n  width: 100%;\n  height: 0;\n  padding-top: 75%;\n  transform-origin: top;\n  background: url(",");\n  background-size: cover;\n  z-index: 50;\n  .filter {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(7, 17, 27, 0.3);\n  }\n"]);return b=function(){return n},n}function h(){var n=s()(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: ",";\n  width: 100%;\n  z-index: 100;\n  overflow: hidden;\n  background: #f2f3f4;\n  transform-origin: right bottom;\n  &.fly-enter, &.fly-appear{\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n  &.fly-enter-active, &.fly-appear-active{\n    transition: transform .3s;\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.fly-exit{\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.fly-exit-active{\n    transition: transform .3s;\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n"]);return h=function(){return n},n}var m=u.b.div(h(),(function(n){return n.play>0?"60px":0})),x=u.b.div(b(),(function(n){return n.bgUrl})),v=u.b.div(g(),f.a["theme-color"],f.a["font-color-light"]),y=u.b.div(d()),E=u.b.div(p()),k=t(7),O=t(138),z=t(31),j=t(139),w=t(27),C=t(43),I=t(47);function N(n){var e=Object(i.useRef)(0),t=Object(i.useState)(!0),a=r()(t,2),l=a[0],s=a[1],u=n.artist,f=n.songs,p=n.loading,d=n.songsCount,g=n.getSingerDataDispatch,b=u.toJS(),h=f.toJS(),w=Object(i.useRef)(),I=Object(i.useRef)(),N=Object(i.useRef)(),S=Object(i.useRef)(),_=Object(i.useRef)(),R=Object(i.useRef)();Object(i.useRef)();Object(i.useEffect)((function(){var t=n.match.params.id;g(t);var a=I.current.offsetHeight;e.current=a,N.current.style.top="".concat(a-5,"px"),R.current.style.top="".concat(a-5,"px"),S.current.refresh()}),[]);var D=Object(i.useCallback)((function(n){var t=e.current,a=n.y,r=I.current,i=w.current,o=_.current,c=R.current,l=-(t-5)+k.a,s=Math.abs(a/t);a>0?(r.style.transform="scale(".concat(1+s,")"),i.style.transform="translate3d(0, ".concat(a,"px, 0)"),c.style.top="".concat(t-5+a,"px")):a>=l?(c.style.top="".concat(t-5-Math.abs(a),"px"),c.style.zIndex=1,r.style.paddingTop="75%",r.style.height=0,r.style.zIndex=-1,i.style.transform="translate3d(0, ".concat(a,"px, 0)"),i.style.opacity="".concat(1-2*s)):a<l&&(c.style.top="".concat(k.a-5,"px"),c.style.zIndex=1,o.style.zIndex=100,r.style.height="".concat(k.a,"px"),r.style.paddingTop=0,r.style.zIndex=99)}),[]),P=Object(i.useCallback)((function(){s(!1)}),[]);return o.a.createElement(c.a,{in:l,timeout:300,classNames:"fly",appear:!0,unmountOnExit:!0,onExited:function(){return n.history.goBack()}},o.a.createElement(m,{play:d},o.a.createElement(O.a,{handleClick:P,title:b.name,ref:_}),o.a.createElement(x,{ref:I,bgUrl:b.picUrl},o.a.createElement("div",{className:"filter"})),o.a.createElement(v,{ref:w},o.a.createElement("i",{className:"iconfont"},""),o.a.createElement("span",{className:"text"},"收藏")),o.a.createElement(E,{ref:R}),o.a.createElement(y,{ref:N},o.a.createElement(z.a,{ref:S,onScroll:D},o.a.createElement(j.a,{songs:h,showCollect:!1}))),p?o.a.createElement(C.a,null):null))}e.default=Object(w.b)((function(n){return{artist:n.getIn(["singerInfo","artist"]),songs:n.getIn(["singerInfo","songsOfArtist"]),loading:n.getIn(["singerInfo","loading"]),songsCount:n.getIn(["player","playList"]).size}}),(function(n){return{getSingerDataDispatch:function(e){n(Object(I.a)(!0)),n(Object(I.b)(e))}}}))(o.a.memo(N))}}]);